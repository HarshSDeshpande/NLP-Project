# About
This Project is essentially a pipeline for generating posters for any particular welfare scheme given the description of the welfare scheme. For more details check out the assignment_report.pdf and assignment_report_stage_2.pdf

Here's a rough diagram to give you an idea of what we're doing:

![Architecture](architecture.png)

We have used the PRISM method as introduced in this paper
He, Y., Robey, A., Murata, N., Jiang, Y., Williams, J., Pappas, G. J., Hassani, H., Mitsufuji, Y., Salakhutdinov, R., & Kolter, J. Z. (2024). Automated black-box prompt engineering for personalized text-to-image generation. arXiv. https://arxiv.org/abs/2403.19103

# Requirements
To create a Conda environment using a `requirements.txt` file, you can use the following command:

```bash
conda create --name <env> --file requirements.txt
```

# Structure of Codebase

● data: This directory contains the original text file for each welfare scheme.

● images: This directory contains the final images generated for each scheme and
each section (such as “Beneficiary and Problem Statement”, and so on,i.e. 3
images for each scheme).

● requirements.txt: This file outlines the requirements for the project.

● scheme_writeups_T5: This directory contains all the write-ups (3 write-ups for
each welfare scheme) as generated by T5.

● scheme_writeups_gpt: This directory contains all the write-ups (3 write-ups for
each welfares scheme) as generated by gpt-4o.

● information_extraction.ipynb: This notebook contains the code to generate the 3
write-ups for each welfare scheme.

● context_generation.ipynb: This notebook contains the code to generate the
additional character context which we are providing the image generation model.

● T5_summarization.ipynb: This notebook contains the code to generate
summaries using the T5 model. We have shown all outputs for the same in the
codeblocks. (Note: The keyboard interrupt appears because it was taking too
long to generate all 10 of the summaries and only 5 summaries were required,
hence we interrupted after getting 5 and ran further code blocks).

● pegausus_summarization.ipynb: This notebook contains our experiments
working with the pegasus model for summarization.

● image_prompts: This directory contains the prompts given to the text-to-image
model.

● image_prompt_context: This directory contains the additional prompts which we
are adding to give the image prompts more context with regards to the character.
This is done to ensure uniformity of characters throughout the images generated
for each welfare scheme, and also gives the text-to-image model added context.
● swe_agent: This is a tool used for our own purpose to help us manage the
codebase

● pr_review_agent: This is a tool used for our own purpose to help us manage the
codebase.

● src: This contains the skeleton of the code for the paper we plan to implement in
the next stage of the project

● The src folder contains well structured code as well as a final notebook ‘prism.ipynb’ for
reproducing the code experiments with PRISM. The reference images used are also
present as png files in the src folder itself. You can check prism.ipynb to have a look at
the overall structure of PRISM.

● In the src folder itself you can view the overall iterative process by checking out the
folders image_logs and interpretable_feedback_and_prompts.These folders are crucial
to the interpretability aspect which our pipeline touches.

● Additionally image_generation_prism.ipynb and image_prompt_generation_prism.ipynb
have been added. These show the modified code post adding PRISM.

● image_quality_evaluation.ipynb: This notebook contains the code to evaluate our final
results using CLIP score.

● Image_prompts_prism and images_prism contain the image prompts and final images
generated by the pipeline post incorporating PRISM.


